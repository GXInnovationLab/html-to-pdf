from flask import Flask, request
import pdfkit
import os

app = Flask(__name__)
app.config['PDF_FOLDER'] = 'static/pdf/'
app.config['TEMPLATE_FOLDER'] = 'templates/'


config = pdfkit.configuration(wkhtmltopdf=bytes(r'C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf.exe', 'utf8'))
@app.route('/convert', methods = ['POST'])
def konversi():
    args = request.form['xml']
    # data=urllib.unquote(args.encode('utf-8')).decode("utf-8")
    pdffile = app.config['PDF_FOLDER'] + 'demo.pdf'
    pdfkit.from_string(args, 'demo.pdf', configuration=config)


if __name__ == '__main__':
    app.run(debug=True)
